<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>PAPERHOUSE INC ADS</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script src='//libtl.com/sdk.js' data-zone='10276123' data-sdk='show_10276123'></script>
    <style>
        body { background: #0f172a; color: white; font-family: sans-serif; overflow: hidden; }
        .glass { background: rgba(30, 41, 59, 0.7); backdrop-filter: blur(12px); border: 1px solid rgba(255,255,255,0.05); }
        .reward-gradient { background: linear-gradient(90deg, #f59e0b, #ea580c); }
        .hidden-sec { display: none; }
        .cooldown { opacity: 0.4; pointer-events: none; filter: grayscale(1); }
        
        /* Fast Loading Simulation */
        #splash-screen {
            position: fixed; inset: 0; background: #0f172a; z-index: 9999;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
        }
        .loader { width: 48px; height: 48px; border: 5px solid #FFF; border-bottom-color: #f59e0b; border-radius: 50%; animation: rotation 0.6s linear infinite; }
        @keyframes rotation { 0% { transform: rotate(0deg) } 100% { transform: rotate(360deg) } }
        
        /* Claim Popup */
        #claim-area { position: fixed; top: 20%; left: 50%; transform: translateX(-50%); z-index: 1000; width: 80%; display: none; }
    </style>
</head>
<body class="max-w-md mx-auto">

    <!-- Loading Splash -->
    <div id="splash-screen">
        <div class="loader mb-4"></div>
        <h1 class="text-xl font-black text-yellow-500">PAPERHOUSE INC</h1>
        <p class="text-[10px] text-slate-500 uppercase tracking-widest">Loading Rewards...</p>
    </div>

    <!-- Claim Reward Button (Floating) -->
    <div id="claim-area" class="glass p-6 rounded-3xl text-center border-2 border-yellow-500 shadow-2xl shadow-yellow-500/20">
        <h2 class="text-lg font-bold mb-1">Ad Completed!</h2>
        <p class="text-xs text-slate-400 mb-4">Click below to claim your reward.</p>
        <button onclick="claimRewardNow()" class="w-full reward-gradient p-3 rounded-xl font-black animate-bounce">CLAIM ₱ <span id="pending-amt">0.00</span></button>
    </div>

    <!-- Header -->
    <header class="p-4 flex justify-between items-center border-b border-slate-800 bg-[#0f172a]">
        <div class="flex items-center gap-3">
            <img id="u-photo" src="https://ui-avatars.com/api/?name=U" class="w-10 h-10 rounded-full border-2 border-yellow-500">
            <div>
                <p id="u-name" class="text-sm font-bold truncate w-24">@username</p>
                <p class="text-[9px] text-green-400 font-bold">LIVE ONLINE</p>
            </div>
        </div>
        <div class="text-right">
            <p class="text-[9px] text-slate-500 uppercase font-bold">Balance</p>
            <p class="text-xl font-black text-yellow-500">₱ <span id="bal">0.0000</span></p>
        </div>
    </header>

    <main class="p-4 overflow-y-auto h-[calc(100vh-140px)] space-y-4">
        
        <!-- Tab: Home -->
        <section id="sec-home" class="space-y-4">
            <div class="glass p-4 rounded-2xl">
                <p class="text-xs font-bold text-blue-400 mb-2">REFERRAL CODE: <span id="my-ref-code" class="text-white">...</span></p>
                <div id="ref-input-box" class="flex gap-2">
                    <input id="ref-input" type="text" placeholder="Enter Referrer @username" class="flex-grow bg-slate-900 border border-slate-700 p-2 rounded-lg text-xs">
                    <button onclick="applyRef()" class="bg-blue-600 px-4 rounded-lg text-xs font-bold">Apply</button>
                </div>
            </div>

            <button id="btn-premium" onclick="runPremiumSequence()" class="w-full glass p-5 rounded-2xl flex justify-between items-center border-l-4 border-yellow-500">
                <div class="text-left">
                    <p class="font-black text-lg">PREMIUM ADS</p>
                    <p class="text-[10px] text-slate-400">Sequence: 2 Ads | Reward: ₱ 0.01</p>
                </div>
                <div id="timer-premium" class="text-xs font-mono bg-slate-800 p-2 rounded">READY</div>
            </button>

            <button id="btn-surprise" onclick="runSurpriseSequence()" class="w-full glass p-5 rounded-2xl flex justify-between items-center border-l-4 border-purple-500">
                <div class="text-left">
                    <p class="font-black text-lg">SURPRISE BONUS</p>
                    <p class="text-[10px] text-slate-400">High CPM | Reward: ₱ 0.0102</p>
                </div>
                <div id="timer-surprise" class="text-xs font-mono bg-slate-800 p-2 rounded">READY</div>
            </button>

            <div class="glass p-4 rounded-2xl">
                <h3 class="text-sm font-bold mb-3">Withdraw to GCash</h3>
                <input id="gcash-num" type="tel" placeholder="GCash Number" class="w-full bg-slate-900 border border-slate-700 p-3 rounded-xl mb-3 text-sm">
                <button onclick="submitWithdraw()" class="w-full reward-gradient p-3 rounded-xl font-black text-sm">REDEEM (MIN 0.02)</button>
                
                <div class="mt-4 border-t border-slate-800 pt-3">
                    <p class="text-[10px] text-slate-500 font-bold uppercase mb-2">History</p>
                    <div id="hist-list" class="space-y-2 text-[10px]"></div>
                </div>
            </div>
        </section>

        <!-- Tab: Chat -->
        <section id="sec-chat" class="hidden-sec h-full flex flex-col">
            <div id="chat-box" class="flex-grow glass rounded-2xl p-4 overflow-y-auto space-y-3 text-sm mb-2"></div>
            <div class="flex gap-2">
                <input id="chat-msg" type="text" placeholder="Send msg (3 Ads) ₱0.0201..." class="flex-grow bg-slate-900 p

-3 rounded-xl text-sm">
                <button onclick="runChatSequence()" class="bg-yellow-500 text-slate-900 w-12 rounded-xl"><i class="fas fa-paper-plane"></i></button>
            </div>
            <p id="chat-timer" class="text-[9px] text-center mt-1 text-yellow-500 font-bold"></p>
        </section>

        <!-- Tab: Social -->
        <section id="sec-social" class="hidden-sec space-y-4">
            <div class="glass p-4 rounded-2xl">
                <h3 class="text-center font-bold text-yellow-500 mb-4 uppercase tracking-widest">Leaderboard</h3>
                <div id="leader-list" class="space-y-2"></div>
            </div>
            <div class="glass p-4 rounded-2xl">
                <h3 class="text-[10px] text-slate-500 font-bold mb-3 uppercase">Online Workers</h3>
                <div id="online-list" class="grid grid-cols-2 gap-2 text-[10px]"></div>
            </div>
        </section>

        <!-- Tab: Admin -->
        <section id="sec-admin" class="hidden-sec space-y-4">
            <div id="admin-login" class="glass p-6 rounded-2xl">
                <input id="admin-pass" type="password" placeholder="Admin PIN" class="w-full bg-slate-900 p-3 rounded-xl mb-2 text-center">
                <button onclick="adminAuth()" class="w-full bg-red-600 p-3 rounded-xl font-bold">Unlock</button>
            </div>
            <div id="admin-panel" class="hidden-sec space-y-4 text-[10px]">
                <h3 class="font-bold">Pending Requests</h3>
                <div id="adm-pending" class="space-y-2"></div>
                <h3 class="font-bold text-slate-500">Recent Payouts</h3>
                <div id="adm-history" class="space-y-2"></div>
            </div>
        </section>
    </main>

    <!-- Navbar -->
    <nav class="fixed bottom-0 left-0 right-0 glass border-t border-slate-800 p-4 flex justify-around">
        <button onclick="tab('home')" class="nav-btn text-yellow-500"><i class="fas fa-home block text-lg"></i><span class="text-[9px]">Earn</span></button>
        <button onclick="tab('chat')" class="nav-btn text-slate-500"><i class="fas fa-comment-dots block text-lg"></i><span class="text-[9px]">Chat</span></button>
        <button onclick="tab('social')" class="nav-btn text-slate-500"><i class="fas fa-trophy block text-lg"></i><span class="text-[9px]">Top</span></button>
        <button onclick="tab('admin')" class="nav-btn text-slate-500"><i class="fas fa-shield-alt block text-lg"></i><span class="text-[9px]">Admin</span></button>
    </nav>

    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-database-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>
    <script src="app.js"></script>
</body>
</html>
